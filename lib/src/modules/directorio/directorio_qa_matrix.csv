ID,Pantalla / Vista,Elemento,Tipo de prueba,Descripción de la prueba,Pasos para reproducir,Resultado esperado,Resultado obtenido,Estado,Observaciones,Notas Técnicas
DIR-001,DirectorioPage,Pantalla completa,UI - Carga general,Validar carga completa de la pantalla principal del directorio con todos sus elementos visuales,1. Abrir la aplicación\n2. Loggearse como usuario médico\n3. Desde la pantalla Home acceder al módulo Directorio\n4. Verificar todos los elementos de la pantalla,"Pantalla se muestra correctamente con:
- AppBar con título ""Directorio""
- BannerMedico con nombre y código de filiación del usuario
- Lista con 4 elementos del directorio (Médicos, Hospitales, Clínicas, Otros servicios)
- Cada elemento con imagen y título visible
- Área scrolleable configurada",,,Pendiente,Precondición: Usuario autenticado desde Home
DIR-002,DirectorioPage,AppBar,UI - Elemento,Validar AppBar con título correcto y estilo,1. Acceder a la pantalla Directorio\n2. Verificar el AppBar superior,AppBar visible con título "Directorio" en español y estilo AppBarPhone aplicado,,,Pendiente,Título obtenido de esMessages.mx.directory.value
DIR-003,DirectorioPage,BannerMedico,UI - Componente,Verificar banner del médico con información del usuario,1. Acceder a la pantalla Directorio\n2. Observar el banner superior debajo del AppBar,Banner visible con nombre completo del usuario y código de filiación correctos,,,Pendiente,Datos obtenidos de _c.user.nombreCompleto y _c.user.codigoFiliacion
DIR-004,DirectorioPage,Lista de elementos,UI - Estructura,Validar estructura de lista con 4 elementos del directorio,1. Acceder a la pantalla Directorio\n2. Verificar la lista principal,"Lista muestra exactamente 4 elementos:
1. ""Médicos"" con subtítulo ""Médicos en convenio""
2. ""Hospitales"" con subtítulo ""Hospitales en convenio""
3. ""Clínicas"" con subtítulo ""Clínicas en convenio""
4. ""Otros servicios de salud"" con subtítulo ""Otros servicios de salud en convenio""",,,Pendiente,Altura de lista configurada al 80% de pantalla
DIR-005,DirectorioPage,Elemento Médicos,UI - Item específico,Verificar elemento de Médicos con imagen y texto correcto,1. Acceder a la pantalla Directorio\n2. Localizar el primer elemento de la lista,"Elemento ""Médicos"" visible con:
- Imagen de doctores (assets/dir_doctores.png)
- Título ""Médicos""
- Card con padding y estilo correcto",,,Pendiente,Widget ItemsMenuDirectory con img y jwt
DIR-006,DirectorioPage,Elemento Hospitales,UI - Item específico,Verificar elemento de Hospitales con imagen y texto correcto,1. Acceder a la pantalla Directorio\n2. Localizar el segundo elemento de la lista,"Elemento ""Hospitales"" visible con:
- Imagen de hospitales (assets/dir_hospitales.png)
- Título ""Hospitales""
- Card con padding y estilo correcto",,,Pendiente,idPage: 'hospitales'
DIR-007,DirectorioPage,Elemento Clínicas,UI - Item específico,Verificar elemento de Clínicas con imagen y texto correcto,1. Acceder a la pantalla Directorio\n2. Localizar el tercer elemento de la lista,"Elemento ""Clínicas"" visible con:
- Imagen de clínicas (assets/dir_clinicas.png)
- Título ""Clínicas""
- Card con padding y estilo correcto",,,Pendiente,idPage: 'clinicas'
DIR-008,DirectorioPage,Elemento Otros servicios,UI - Item específico,Verificar elemento de Otros servicios con imagen y texto correcto,1. Acceder a la pantalla Directorio\n2. Localizar el cuarto elemento de la lista,"Elemento ""Otros servicios de salud"" visible con:
- Imagen de otros servicios (assets/dir_otrosServiciosSalud.png)
- Título ""Otros servicios de salud""
- Card con padding y estilo correcto",,,Pendiente,idPage: 'otros_servicios'
DIR-009,DirectorioPage,Widget ItemsMenuDirectory,UI - Responsive,Validar diseño responsive del widget de elementos,1. Acceder a la pantalla Directorio\n2. Verificar dimensiones de los elementos en diferentes resoluciones,"Cada elemento del directorio:
- Altura fija: 95px
- Ancho responsive: context.scale(330)
- Layout horizontal: imagen izquierda, texto derecha
- Padding simétrico aplicado",,,Pendiente,Widget personalizado con responsive_extension
DIR-010,DirectorioPage,Scroll de lista,UI - Comportamiento,Verificar scroll de la lista de elementos,1. Acceder a la pantalla Directorio\n2. Intentar hacer scroll en la lista si es necesario,Lista permite scroll suave si el contenido excede el área visible,,,Pendiente,Physics configurado como NeverScrollableScrollPhysics en el padre
DIR-011,DirectorioPage,Elemento Médicos,Funcional - Navegación,Validar navegación al tocar elemento Médicos,1. Acceder a la pantalla Directorio\n2. Tocar el elemento ""Médicos"",Navegación a FilterPage con argumentos correctos incluyendo item 'medicos' y todos los catálogos,,,Pendiente,Get.toNamed(FilterPage.page.name) con argumentos
DIR-012,DirectorioPage,Elemento Hospitales,Funcional - Navegación,Validar navegación al tocar elemento Hospitales,1. Acceder a la pantalla Directorio\n2. Tocar el elemento ""Hospitales"",Navegación a FilterPage con argumentos correctos incluyendo item 'hospitales' y todos los catálogos,,,Pendiente,Mismo flujo goto() que Médicos
DIR-013,DirectorioPage,Elemento Clínicas,Funcional - Navegación,Validar navegación al tocar elemento Clínicas,1. Acceder a la pantalla Directorio\n2. Tocar el elemento ""Clínicas"",Navegación a FilterPage con argumentos correctos incluyendo item 'clinicas' y todos los catálogos,,,Pendiente,Argumentos incluyen todos los catálogos médicos
DIR-014,DirectorioPage,Elemento Otros servicios,Funcional - Navegación,Validar navegación al tocar elemento Otros servicios,1. Acceder a la pantalla Directorio\n2. Tocar el elemento ""Otros servicios de salud"",Navegación a FilterPage con argumentos correctos incluyendo item 'otros_servicios' y todos los catálogos,,,Pendiente,idPage específico para otros servicios
DIR-015,DirectorioPage,Argumentos de navegación,Funcional - Datos,Verificar que se pasan todos los catálogos en la navegación,1. Acceder a la pantalla Directorio\n2. Tocar cualquier elemento\n3. Verificar argumentos pasados,"Argumentos incluyen:
- item: ItemDirectoryMdl seleccionado
- catEspecialidades: Lista de especialidades
- catCirculos: Lista de círculos médicos
- catPlanHospitalario: Lista de planes
- catClinicas: Lista de clínicas
- catOtrosServicios: Lista de otros servicios
- catEstados: Lista de estados cargada",,,Pendiente,6 catálogos diferentes se pasan como argumentos
DIR-016,DirectorioPage,Retorno de FilterPage,Funcional - Actualización,Validar actualización de catálogos al regresar de FilterPage,1. Acceder a la pantalla Directorio\n2. Navegar a cualquier elemento\n3. Regresar de FilterPage\n4. Verificar actualización de datos,"Catálogos se actualizan correctamente:
- catEspecialidades actualizado
- catCirculos actualizado
- catPlanHospitalario actualizado
- catClinicas actualizado
- catOtrosServicios actualizado",,,Pendiente,Callback .then((result) actualiza catálogos
DIR-017,DirectorioPage,Estado Loading,Estado - Carga inicial,Verificar estado de loading durante inicialización,1. Abrir la aplicación\n2. Loggearse y acceder al Directorio\n3. Observar pantalla durante carga inicial,Pantalla muestra LoadingGnp (spinner) centrado mientras carga estados,,,Pendiente,StateMixin con RxStatus.loading()
DIR-018,DirectorioPage,Estado Success,Estado - Carga exitosa,Verificar estado exitoso tras cargar datos,1. Acceder a la pantalla Directorio\n2. Esperar carga completa,Pantalla cambia de loading a success mostrando todo el contenido normal,,,Pendiente,RxStatus.success() tras _loadEstados()
DIR-019,DirectorioPage,Estado Error,Estado - Error de carga,Verificar manejo de error al cargar estados,1. Simular error de red\n2. Acceder a la pantalla Directorio,Pantalla muestra LoadingGnp con ícono de error y mensaje 'Error al cargar los estados. Inténtalo de nuevo más tarde',,,Pendiente,RxStatus.error() con mensaje específico
DIR-020,DirectorioPage,Estado Empty,Estado - Sin datos,Verificar estado cuando no hay información para mostrar,1. Simular respuesta vacía del API\n2. Acceder a la pantalla Directorio,Pantalla muestra LoadingGnp con ícono warning y mensaje 'No hay información para mostrar',,,Pendiente,Estado onEmpty con ícono warning
DIR-021,DirectorioPage,Carga de estados API,Integración - API,Verificar llamada correcta al API para cargar estados,1. Acceder a la pantalla Directorio\n2. Monitorear llamadas de red,"API llamado correctamente:
- URL: /integracion/catalogo/estados
- Headers: Content-Type y apiKey
- Response: Lista de EstadoMdl
- catEstados incluye 'Todos' + estados del API",,,Pendiente,DirectoryRepository.fetchEstados()
DIR-022,DirectorioPage,Autenticación JWT,Integración - Seguridad,Verificar que JWT del usuario se usa correctamente,1. Acceder a la pantalla Directorio\n2. Verificar token en widgets de imagen,JWT del usuario (_c.jwt) se pasa correctamente a todos los widgets ItemsMenuDirectory para autenticación de imágenes,,,Pendiente,Token obtenido de appState.user.token.jwt
DIR-023,DirectorioPage,Datos de usuario,Integración - Usuario,Verificar obtención correcta de datos del usuario loggeado,1. Acceder a la pantalla Directorio\n2. Verificar datos en banner,"Datos del usuario se obtienen correctamente:
- Nombre completo en banner
- Código de filiación en banner
- Token JWT disponible",,,Pendiente,Datos de AppStateController
DIR-024,DirectorioPage,Controller lifecycle,Funcional - Ciclo de vida,Verificar inicialización correcta del controller,1. Acceder a la pantalla Directorio\n2. Verificar estado del controller,"Controller se inicializa correctamente:
- onInit() ejecutado
- Estados cargados
- Catálogos inicializados
- Lista de items disponible",,,Pendiente,GetxController con StateMixin
DIR-025,DirectorioPage,Bindings,Funcional - Dependencias,Verificar inyección correcta de dependencias,1. Acceder a la pantalla Directorio\n2. Verificar servicios disponibles,"Dependencias inyectadas correctamente:
- DirectorioController registrado
- DirectoryRepository disponible
- AppStateController accesible",,,Pendiente,_DirectorioBindings en GetPage
DIR-026,DirectorioPage,Middleware,Funcional - Middleware,Verificar ejecución del middleware,1. Acceder a la pantalla Directorio\n2. Verificar middleware,Middleware _DirectorioMiddleware se ejecuta (actualmente vacío pero sin errores),,,Pendiente,Middleware configurado pero sin implementación
DIR-027,DirectorioPage,Responsive phone,UI - Responsive,Verificar vista específica para móviles,1. Acceder desde dispositivo móvil\n2. Verificar vista,Vista _DirectorioPhonePage se carga correctamente con layout móvil optimizado,,,Pendiente,GetResponsiveView con phone() implementado
DIR-028,DirectorioPage,Responsive tablet,UI - Responsive,Verificar vista para tablets,1. Acceder desde tablet\n2. Verificar vista,Vista _DirectorioTabletPage se carga (actualmente placeholder con mensaje),,,Pendiente,Vista tablet es placeholder
DIR-029,DirectorioPage,Responsive desktop,UI - Responsive,Verificar vista para escritorio,1. Acceder desde escritorio\n2. Verificar vista,Vista _DirectorioDesktopPage se carga (actualmente placeholder con mensaje),,,Pendiente,Vista desktop es placeholder
DIR-030,DirectorioPage,Threading,Rendimiento - Hilos,Verificar ejecución en hilo correcto para carga de estados,1. Acceder a la pantalla Directorio\n2. Monitorear ejecución de _loadEstados,Carga de estados se ejecuta usando appService.threads.execute sin bloquear UI,,,Pendiente,Threading service para operaciones async
DIR-031,DirectorioPage,Exception handling,Integración - Errores,Verificar manejo de excepciones en carga de datos,1. Simular diferentes tipos de errores de red\n2. Acceder a la pantalla Directorio,Excepciones manejadas correctamente con ExceptionAlertProperties y mensaje específico,,,Pendiente,customExceptionMessages configurado
DIR-032,DirectorioPage,Catálogo Estados formato,Integración - Datos,Verificar formato correcto del catálogo de estados,1. Acceder a la pantalla Directorio\n2. Verificar estructura de catEstados,"catEstados tiene formato correcto:
- Primer elemento: {claveEstado: '0', estado: 'Todos'}
- Siguientes: datos del API con claveEstado y estado",,,Pendiente,Estructura específica con 'Todos' prepended
DIR-033,DirectorioPage,Memory management,Rendimiento - Memoria,Verificar gestión correcta de memoria del controller,1. Navegar entre pantallas múltiples veces\n2. Verificar liberación de recursos,Controller y recursos se liberan correctamente sin memory leaks,,,Pendiente,Lifecycle management de GetX
DIR-034,DirectorioPage,Widget ImageFromWeb,UI - Componente,Verificar carga de imágenes desde web con JWT,1. Acceder a la pantalla Directorio\n2. Verificar carga de imágenes en elementos,Imágenes se cargan correctamente usando JWT para autenticación (nota: actualmente img parameter no se usa),,,Pendiente,Bug conocido: parámetro img no utilizado
DIR-035,DirectorioPage,Navegación desde drawer,Funcional - Navegación,Validar acceso normal desde menú drawer (flujo producción),1. Loggearse como usuario\n2. Ir a pantalla Home\n3. Abrir drawer menu\n4. Seleccionar 'Directorio médico',Navegación exitosa desde drawer hacia DirectorioPage manteniendo contexto,,,Pendiente,Flujo normal de producción vs inicial temporal
DIR-036,FilterPage,Pantalla completa,UI - Carga general,Validar carga completa de la pantalla de filtros con elementos específicos por tipo,1. Desde DirectorioPage tocar cualquier elemento\n2. Verificar carga de FilterPage\n3. Observar todos los elementos,"Pantalla se muestra correctamente con:
- AppBar con subtítulo del item seleccionado
- Botón back personalizado
- Campo de búsqueda general (titleSearchby/labelSearchby)
- Dropdowns específicos según tipo seleccionado
- Botón flotante 'Buscar'",,,Pendiente,Elementos varían según itemSelected (médicos/hospitales/clínicas/otros_servicios)
DIR-037,FilterPage,AppBar,UI - Elemento,Validar AppBar con título dinámico y botón back,1. Navegar a FilterPage desde cualquier elemento\n2. Verificar AppBar,"AppBar visible con:
- Fondo blanco
- Título = subtítulo del item seleccionado
- BackButton personalizado que ejecuta onBack()",,,Pendiente,Título dinámico: _c.itemSelected.subtitle
DIR-038,FilterPage,Botón Back,Funcional - Navegación,Verificar funcionalidad del botón back y actualización de catálogos,1. Navegar a FilterPage\n2. Tocar el botón back\n3. Verificar retorno a DirectorioPage,"Regreso exitoso a DirectorioPage con:
- Get.back() ejecutado
- Catálogos actualizados en result
- Todos los catálogos pasados correctamente",,,Pendiente,onBack() retorna catálogos actualizados
DIR-039,FilterPage,Campo búsqueda general,UI - Input,Verificar campo de búsqueda general TextFieldWithBorderInBottom,1. Navegar a FilterPage\n2. Localizar campo de búsqueda general,"Campo visible con:
- Título dinámico (titleSearchby)
- Label dinámico (labelSearchby)
- Border color: #FFB0BEC5
- Controller: searchByCtrler",,,Pendiente,Siempre visible independiente del tipo
DIR-040,FilterPage,Campo búsqueda médicos,UI - Input condicional,Verificar campo de búsqueda específico para médicos,1. Desde DirectorioPage tocar 'Médicos'\n2. Verificar campo de búsqueda específico,"Si itemSelected == 'medicos':
- Input search con dropdown visible
- Altura: 41% de pantalla
- Ícono de búsqueda
- HintText específico",,,Pendiente,Solo visible para médicos - _buildSearch()
DIR-041,FilterPage,Dropdown Círculo Médico,UI - Dropdown condicional,Verificar dropdown de círculo médico para médicos,1. Navegar a FilterPage desde 'Médicos'\n2. Localizar dropdown de círculo,"Si itemSelected == 'medicos':
- DropdownSearchField visible
- Título: 'Circulo o tabulador médico'
- Items: catCirculos
- HintText: circuloSelected['circuloMedico']",,,Pendiente,Condicional solo para médicos con Obx reactive
DIR-042,FilterPage,Dropdown Especialidad,UI - Dropdown condicional,Verificar dropdown de especialidad para médicos,1. Navegar a FilterPage desde 'Médicos'\n2. Localizar dropdown de especialidad,"Si itemSelected == 'medicos':
- DropdownSearchField visible
- Título: 'Especialidad'
- Items: catEspecialidades
- HintText: especialidadSelected['especialidad']",,,Pendiente,Condicional solo para médicos
DIR-043,FilterPage,Dropdown Plan Hospitalario,UI - Dropdown condicional,Verificar dropdown de plan hospitalario para hospitales,1. Navegar a FilterPage desde 'Hospitales'\n2. Localizar dropdown de plan hospitalario,"Si itemSelected == 'hospitales':
- DropdownSearchField visible
- Título: 'Plan hospitalario'
- Items: catPlanHospitalario
- HintText: planHospitalarioSelected['plan']",,,Pendiente,Condicional solo para hospitales
DIR-044,FilterPage,Dropdown Tipo Clínica,UI - Dropdown condicional,Verificar dropdown de tipo de clínica para clínicas,1. Navegar a FilterPage desde 'Clínicas'\n2. Localizar dropdown de tipo clínica,"Si itemSelected == 'clinicas':
- DropdownSearchField visible
- Título: 'Tipo de clínica'
- Items: catClinicas
- HintText: clinicasSelected['tipoClinica']",,,Pendiente,Condicional solo para clínicas
DIR-045,FilterPage,Dropdown Tipo Servicios,UI - Dropdown condicional,Verificar dropdown de tipo servicios para otros servicios,1. Navegar a FilterPage desde 'Otros servicios'\n2. Localizar dropdown de tipo servicios,"Si itemSelected == 'otros_servicios':
- DropdownSearchField visible
- Título: 'Tipo Servicios'
- Items: catOtrosServicios
- HintText: otrosServiciosSelected['tipoProveedor']",,,Pendiente,Condicional solo para otros servicios
DIR-046,FilterPage,Dropdown Estados,UI - Dropdown,Verificar dropdown de estados siempre visible,1. Navegar a FilterPage desde cualquier elemento\n2. Localizar dropdown de estados,"DropdownSearchField siempre visible:
- Título: 'Estado'
- Items: catEstados (incluye 'Todos')
- HintText: itemSelectedEstado['estado']
- Reactivo con Obx",,,Pendiente,Siempre visible independiente del tipo
DIR-047,FilterPage,Dropdown Municipios,UI - Dropdown condicional,Verificar dropdown de municipios dependiente de estado,1. Navegar a FilterPage\n2. Seleccionar un estado\n3. Verificar aparición de dropdown municipios,"Dropdown municipios:
- Visible solo si estado seleccionado != 'Todos'
- Título: 'Municipio'
- Items: catMunicipios (cargados dinámicamente)
- Se oculta si municipiosSelected está vacío",,,Pendiente,Condicional basado en selección de estado
DIR-048,FilterPage,Mensaje municipios,UI - Texto informativo,Verificar mensaje informativo para municipios,1. Navegar a FilterPage\n2. No seleccionar estado o seleccionar 'Todos',"Mensaje visible:
- Texto: 'Para mostrar municipios, seleccione un estado'
- Estilo: titleMedium
- Padding bottom: 8px",,,Pendiente,Visible cuando municipiosSelected.isEmpty
DIR-049,FilterPage,Botón Buscar,UI - FloatingActionButton,Verificar botón flotante de búsqueda,1. Navegar a FilterPage\n2. Localizar botón flotante,"FloatingActionButton visible:
- Posición: centerFloat
- Texto: 'Buscar'
- Padding horizontal: 20px
- Función: goToFilterResultsPage",,,Pendiente,Solo visible en estado success
DIR-050,FilterPage,Estado Loading,Estado - Carga,Verificar estado de loading durante inicialización,1. Navegar a FilterPage\n2. Observar durante carga inicial,Pantalla muestra LoadingGnp centrado mientras carga catálogos,,,Pendiente,RxStatus.loading() durante setTypeSearch
DIR-051,FilterPage,Estado Error,Estado - Error,Verificar estado de error en carga de catálogos,1. Simular error de red\n2. Navegar a FilterPage,Pantalla muestra LoadingGnp con ícono error y mensajes de error correspondientes,,,Pendiente,onError con ícono y mensajes específicos
DIR-052,FilterPage,Búsqueda específica médicos,Funcional - Búsqueda,Validar funcionalidad de búsqueda específica para médicos,1. Navegar a FilterPage desde 'Médicos'\n2. Escribir en campo de búsqueda específico\n3. Verificar dropdown con resultados,"Búsqueda funcional:
- Input reactivo a texto
- Dropdown con resultados filtrados
- Filtrado por keyToSearch.value
- Resultados en listFiltered",,,Pendiente,Solo para médicos - _filterSearch() method
DIR-053,FilterPage,Selección desde búsqueda,Funcional - Selección,Verificar selección de elemento desde búsqueda específica,1. Navegar a FilterPage desde 'Médicos'\n2. Buscar y tocar elemento en dropdown,"Selección exitosa:
- Input search se llena con valor seleccionado
- Dropdown se cierra
- Campo correspondiente se actualiza
- Navegación automática a FilterResultsPage",,,Pendiente,onTapSearch() con navegación automática
DIR-054,FilterPage,Selección Círculo Médico,Funcional - Dropdown,Verificar selección en dropdown de círculo médico,1. Navegar a FilterPage desde 'Médicos'\n2. Abrir dropdown círculo médico\n3. Seleccionar opción,"Selección exitosa:
- circuloSelected.value actualizado
- Valor por defecto si null: 'Todos'
- Interfaz reactiva actualizada",,,Pendiente,onChanged con valor por defecto
DIR-055,FilterPage,Selección Especialidad,Funcional - Dropdown,Verificar selección en dropdown de especialidad,1. Navegar a FilterPage desde 'Médicos'\n2. Seleccionar especialidad,"especialidadSelected.value actualizado correctamente con valor seleccionado o 'Todos' por defecto",,,Pendiente,Reactive con Obx
DIR-056,FilterPage,Selección Plan Hospitalario,Funcional - Dropdown,Verificar selección en dropdown de plan hospitalario,1. Navegar a FilterPage desde 'Hospitales'\n2. Seleccionar plan hospitalario,"planHospitalarioSelected.value actualizado correctamente con valor seleccionado o 'Todos' por defecto",,,Pendiente,Solo para hospitales
DIR-057,FilterPage,Selección Tipo Clínica,Funcional - Dropdown,Verificar selección en dropdown de tipo clínica,1. Navegar a FilterPage desde 'Clínicas'\n2. Seleccionar tipo clínica,"clinicasSelected.value actualizado correctamente con valor seleccionado o 'Todos' por defecto",,,Pendiente,Solo para clínicas
DIR-058,FilterPage,Selección Tipo Servicios,Funcional - Dropdown,Verificar selección en dropdown de otros servicios,1. Navegar a FilterPage desde 'Otros servicios'\n2. Seleccionar tipo servicio,"otrosServiciosSelected.value actualizado correctamente con valor seleccionado o 'Todos' por defecto",,,Pendiente,Solo para otros servicios
DIR-059,FilterPage,Selección Estado,Funcional - Dropdown,Verificar selección de estado y carga de municipios,1. Navegar a FilterPage\n2. Seleccionar estado diferente a 'Todos',"Estado seleccionado correctamente:
- itemSelectedEstado.value actualizado
- catMunicipios se limpia
- fetchDataMunicipios() ejecutado
- Dropdown municipios aparece",,,Pendiente,onChanged async con fetchDataMunicipios
DIR-060,FilterPage,Estado Todos municipios,Funcional - Lógica,Verificar comportamiento al seleccionar estado 'Todos',1. Navegar a FilterPage\n2. Seleccionar estado 'Todos',"Comportamiento correcto:
- municipiosSelected se vacía
- catMunicipios se limpia
- Dropdown municipios se oculta
- No se ejecuta fetchDataMunicipios",,,Pendiente,Lógica condicional claveEstado == '0'
DIR-061,FilterPage,Selección Municipio,Funcional - Dropdown,Verificar selección de municipio,1. Seleccionar estado\n2. Esperar carga de municipios\n3. Seleccionar municipio,"municipiosSelected.value actualizado correctamente con valor seleccionado o 'Todos' por defecto",,,Pendiente,Dropdown dependiente de estado
DIR-062,FilterPage,Navegación a resultados,Funcional - Navegación,Verificar navegación al tocar botón Buscar,1. Configurar filtros en FilterPage\n2. Tocar botón 'Buscar',"Navegación exitosa a FilterResultsPage:
- goToFilterResultsPage() ejecutado
- Filtros aplicados pasados como argumentos
- Transición de pantalla correcta",,,Pendiente,ElevatedButton onPressed
DIR-063,FilterPage,Argumentos recibidos,Integración - Datos,Verificar recepción correcta de argumentos desde DirectorioPage,1. Navegar desde DirectorioPage\n2. Verificar argumentos en FilterPage,"Argumentos recibidos correctamente:
- item: ItemDirectoryMdl
- Todos los catálogos médicos
- Estados cargados desde DirectorioPage",,,Pendiente,Get.arguments en onInit()
DIR-064,FilterPage,Carga catálogos específicos,Integración - API,Verificar carga de catálogos según tipo seleccionado,1. Navegar a FilterPage\n2. Verificar carga de catálogos específicos,"Catálogos cargados según tipo:
- setTypeSearch() ejecutado
- APIs específicos llamados
- Catálogos populados correctamente",,,Pendiente,setTypeSearch() con threads.execute
DIR-065,FilterPage,Keyboard management,UI - Teclado,Verificar gestión del teclado y dropdown search,1. Navegar a FilterPage desde 'Médicos'\n2. Abrir teclado en búsqueda específica\n3. Cerrar teclado,"Gestión correcta del teclado:
- WidgetsBindingObserver registrado
- didChangeMetrics() detecta cambios
- showSearchDropdown reactivo a focus
- resetSearch() al perder focus",,,Pendiente,WidgetsBindingObserver implementation
DIR-066,FilterPage,Focus management,Funcional - Focus,Verificar manejo de focus en campos de búsqueda,1. Tocar campo búsqueda específica\n2. Cambiar focus\n3. Verificar comportamiento,"Focus manejado correctamente:
- fnInputSearch.hasFocus detectado
- showSearchDropdown.value actualizado
- resetSearch() ejecutado al perder focus",,,Pendiente,FocusNode listeners
DIR-067,FilterPage,Filtrado de búsqueda,Funcional - Filtro,Verificar filtrado en tiempo real de búsqueda específica,1. Navegar a FilterPage desde 'Médicos'\n2. Escribir texto en búsqueda específica,"Filtrado en tiempo real:
- _filterSearch() ejecutado en cada cambio
- listFiltered actualizado
- Búsqueda case-insensitive
- Dropdown actualizado dinámicamente",,,Pendiente,searchCtrler.addListener() con _filterSearch
DIR-068,FilterPage,Reset búsqueda,Funcional - Reset,Verificar reset de búsqueda específica,1. Realizar búsqueda específica\n2. Perder focus del campo,"Reset correcto:
- listFiltered vuelve a _itemsToSearch
- searchCtrler.clear() ejecutado
- showSearchDropdown = false",,,Pendiente,resetSearch() method
DIR-069,FilterPage,Controller lifecycle,Funcional - Ciclo de vida,Verificar inicialización y limpieza del controller,1. Navegar a FilterPage\n2. Navegar fuera de FilterPage,"Lifecycle correcto:
- onInit() configura listeners
- onClose() limpia recursos
- Controllers disposed correctamente
- Observer removido",,,Pendiente,GetxController lifecycle con WidgetsBindingObserver
DIR-070,FilterPage,PopScope handling,Funcional - Navegación,Verificar manejo de navegación back del sistema,1. Navegar a FilterPage\n2. Usar back gesture/botón del sistema,"PopScope manejado correctamente:
- canPop: false
- onPopInvokedWithResult ejecuta onBack()
- Catálogos retornados correctamente",,,Pendiente,PopScope con canPop: false
DIR-071,FilterResultsPage,Pantalla completa,UI - Carga general,Validar carga completa de la pantalla de resultados con todos sus elementos,1. Configurar filtros en FilterPage\n2. Tocar 'Buscar'\n3. Verificar carga de FilterResultsPage,"Pantalla se muestra correctamente con:
- AppBar con nombre del tipo de búsqueda
- Header con número de resultados y paginación
- Chips de filtros aplicados
- Subtítulo con categoría seleccionada
- Lista de resultados o mensaje si está vacía",,,Pendiente,Elementos varían según resultados encontrados
DIR-072,FilterResultsPage,AppBar,UI - Elemento,Validar AppBar con título dinámico,1. Navegar a FilterResultsPage\n2. Verificar AppBar,"AppBar visible con:
- Fondo blanco
- Título = nombre del tipo búsqueda (itemSelected.subtitle)
- Botón back estándar",,,Pendiente,Título: _c.state!.name
DIR-073,FilterResultsPage,Header resultados,UI - Información,Verificar header con información de resultados y paginación,1. Navegar a FilterResultsPage con resultados\n2. Verificar header,"Header muestra correctamente:
- 'Se encontraron X resultados para:'
- 'Se encontraron X resultados Página Y de Z'
- Números dinámicos actualizados",,,Pendiente,totalResults y currentPage/nTotalPages
DIR-074,FilterResultsPage,Chips filtros aplicados,UI - Chips,Verificar chips de filtros aplicados según tipo de búsqueda,1. Configurar filtros específicos\n2. Realizar búsqueda\n3. Verificar chips en resultados,"Chips visibles según configuración:
- searchBy (si no está vacío)
- Filtros específicos por tipo (médicos/hospitales/clínicas/otros)
- Estado siempre visible
- Municipio (si seleccionado)",,,Pendiente,Chips condicionales según tipo y valores
DIR-075,FilterResultsPage,Chip búsqueda general,UI - Chip condicional,Verificar chip de búsqueda general,1. Configurar searchBy en FilterPage\n2. Realizar búsqueda,"Si searchBy no está vacío:
- Chip visible con texto de búsqueda
- Estilo _ThisFilterChips aplicado",,,Pendiente,Condicional: searchBy.isNotEmpty
DIR-076,FilterResultsPage,Chips médicos,UI - Chips condicionales,Verificar chips específicos para búsqueda de médicos,1. Buscar médicos con filtros específicos,"Si itemSelected.idPage == 'medicos':
- Chip círculo médico (o 'Todos')
- Chip especialidad
- Estilo consistente aplicado",,,Pendiente,Condicional solo para médicos
DIR-077,FilterResultsPage,Chips hospitales,UI - Chips condicionales,Verificar chips específicos para búsqueda de hospitales,1. Buscar hospitales con filtros específicos,"Si itemSelected.idPage == 'hospitales':
- Chip plan hospitalario (o 'Todos')
- Estilo _ThisFilterChips aplicado",,,Pendiente,Condicional solo para hospitales
DIR-078,FilterResultsPage,Chips clínicas,UI - Chips condicionales,Verificar chips específicos para búsqueda de clínicas,1. Buscar clínicas con filtros específicos,"Si itemSelected.idPage == 'clinicas':
- Chip tipo de clínica (o 'Todos')
- Estilo _ThisFilterChips aplicado",,,Pendiente,Condicional solo para clínicas
DIR-079,FilterResultsPage,Chips otros servicios,UI - Chips condicionales,Verificar chips específicos para búsqueda de otros servicios,1. Buscar otros servicios con filtros específicos,"Si itemSelected.idPage == 'otros_servicios':
- Chip tipo proveedor (o 'Todos')
- Estilo _ThisFilterChips aplicado",,,Pendiente,Condicional solo para otros servicios
DIR-080,FilterResultsPage,Chip estado,UI - Chip,Verificar chip de estado siempre visible,1. Realizar cualquier búsqueda\n2. Verificar chip estado,"Chip estado siempre visible:
- Texto del estado seleccionado
- Estilo _ThisFilterChips aplicado",,,Pendiente,Siempre visible independiente del tipo
DIR-081,FilterResultsPage,Chip municipio,UI - Chip condicional,Verificar chip de municipio cuando está seleccionado,1. Seleccionar estado y municipio\n2. Realizar búsqueda,"Chip municipio visible si:
- itemSelected.idPage != 'modulos_gnp'
- municipio no está vacío
- Texto del municipio seleccionado",,,Pendiente,Condicional basado en selección
DIR-082,FilterResultsPage,Subtítulo categoría,UI - Texto,Verificar subtítulo con categoría seleccionada,1. Realizar búsqueda\n2. Verificar subtítulo,"Subtítulo visible con:
- Texto: '[NOMBRE] seleccionado' en mayúsculas
- Padding vertical: 10px
- Estilo Text aplicado",,,Pendiente,Text toUpperCase() con nombre de categoría
DIR-083,FilterResultsPage,Lista de resultados,UI - Lista,Verificar lista de resultados cuando hay datos,1. Realizar búsqueda con resultados\n2. Verificar lista,"Lista visible si listToShow.isNotEmpty:
- ListView.builder scrolleable
- ScrollController configurado
- Scrollbar visible
- Items con CardItemsResults",,,Pendiente,Expanded con Scrollbar y Obx
DIR-084,FilterResultsPage,Item resultado médico,UI - Card específica,Verificar formato de card para resultados de médicos,1. Buscar médicos\n2. Verificar formato de cards,"Card médico muestra:
- Título: nombre completo del médico
- Subtítulo: círculo médico y tabulador
- Descripción: dirección completa
- Teléfono: teléfono completo
- Coordenadas: latitud/longitud",,,Pendiente,ItemsResultsMdl para case 'medicos'
DIR-085,FilterResultsPage,Item resultado hospital,UI - Card específica,Verificar formato de card para resultados de hospitales,1. Buscar hospitales\n2. Verificar formato de cards,"Card hospital muestra:
- Título: razón social
- Subtítulo: niveles hospitalarios
- Descripción: dirección completa
- Teléfono: teléfono completo
- Coordenadas: latitud/longitud",,,Pendiente,ItemsResultsMdl para case 'hospitales'
DIR-086,FilterResultsPage,Item resultado clínica,UI - Card específica,Verificar formato de card para resultados de clínicas,1. Buscar clínicas\n2. Verificar formato de cards,"Card clínica muestra:
- Título: nombre comercial
- Subtítulo: nivel hospitalario abreviado
- Descripción: dirección completa
- Teléfono: teléfono completo
- Coordenadas: latitud/longitud",,,Pendiente,ItemsResultsMdl para case 'clinicas'
DIR-087,FilterResultsPage,Item resultado otros servicios,UI - Card específica,Verificar formato de card para resultados de otros servicios,1. Buscar otros servicios\n2. Verificar formato de cards,"Card otros servicios muestra:
- Título: nombre comercial
- Subtítulo: tipo de servicio
- Descripción: dirección completa
- Teléfono: teléfono completo
- Coordenadas: latitud/longitud",,,Pendiente,ItemsResultsMdl para case 'otros_servicios'
DIR-088,FilterResultsPage,Navegación a mapa,Funcional - Navegación,Verificar navegación al tocar resultado individual,1. Tocar cualquier resultado de la lista,"Navegación exitosa a ItemMapPage:
- Get.toNamed ejecutado
- Argumentos: item y titleAppBar
- Transición correcta de pantalla",,,Pendiente,InkWell onTap con argumentos
DIR-089,FilterResultsPage,Scroll infinito,Funcional - Paginación,Verificar scroll infinito y carga de más resultados,1. Realizar búsqueda con muchos resultados\n2. Scroll hasta el final\n3. Verificar carga automática,"Paginación funcional:
- ScrollController detecta final
- loadNextPage() ejecutado automáticamente
- isFetchingMore muestra loading
- currentPage incrementado",,,Pendiente,_onScroll() con maxScrollExtent
DIR-090,FilterResultsPage,Indicador loading paginación,UI - Loading,Verificar indicador de loading durante paginación,1. Scroll hasta activar paginación\n2. Verificar indicador,"Loading paginación visible:
- CircularProgressIndicator al final de lista
- Padding: 8px
- Centrado horizontalmente
- Solo visible cuando isFetchingMore.value",,,Pendiente,Item adicional en ListView cuando isFetchingMore
DIR-091,FilterResultsPage,Mensaje sin resultados,UI - Estado vacío,Verificar mensaje cuando no hay resultados,1. Realizar búsqueda sin coincidencias,"Mensaje sin resultados:
- Container con altura 40% y ancho 90%
- Texto centrado en bottomCenter
- Mensaje: 'No se encontraron resultados con los filtros seleccionados'
- Estilo: bodyMedium, color black54, fontSize 20",,,Pendiente,Visible cuando listToShow.isEmpty
DIR-092,FilterResultsPage,Estado Loading,Estado - Carga,Verificar estado de loading durante carga inicial,1. Navegar a FilterResultsPage\n2. Observar durante carga inicial,Pantalla muestra LoadingGnp centrado mientras carga resultados,,,Pendiente,RxStatus.loading() durante setTypeSearch
DIR-093,FilterResultsPage,Estado Empty,Estado - Sin datos,Verificar estado cuando no se encuentran datos,1. Realizar búsqueda que retorne vacío del API,"Estado empty correcto:
- LoadingGnp con isPositionUp: false
- Placeholder icon con altura 60%
- Título: 'noResultsFound'
- Subtítulo: 'selectBtnToContinue'",,,Pendiente,onEmpty con placeholder personalizado
DIR-094,FilterResultsPage,Estado Error,Estado - Error,Verificar estado de error en carga de resultados,1. Simular error de API\n2. Intentar cargar resultados,"Estado error correcto:
- LoadingGnp con ícono error
- Título: 'errorLoadingInfo'
- Subtítulo: 'pleaseTryAgainLater'
- Color primary aplicado",,,Pendiente,onError con mensajes específicos
DIR-095,FilterResultsPage,Argumentos recibidos,Integración - Datos,Verificar recepción correcta de argumentos desde FilterPage,1. Configurar filtros y buscar\n2. Verificar argumentos recibidos,"ItemToSearchDirectoryMdl recibido correctamente:
- Todos los filtros configurados
- Tipo de búsqueda correcto
- Datos completos para API call",,,Pendiente,Get.arguments en onInit()
DIR-096,FilterResultsPage,API call inicial,Integración - API,Verificar llamada inicial al API según tipo de búsqueda,1. Navegar a FilterResultsPage\n2. Verificar API call,"API llamado correctamente según tipo:
- setTypeSearch() ejecutado
- Endpoint específico usado
- FilterString construido
- Resultados procesados",,,Pendiente,setTypeSearch() con switch por idPage
DIR-097,FilterResultsPage,API call paginación,Integración - API,Verificar llamadas adicionales para paginación,1. Activar scroll infinito\n2. Verificar llamadas API,"Paginación API correcta:
- Mismo endpoint con página incrementada
- Resultados se agregan a lista existente
- currentPage actualizado correctamente",,,Pendiente,loadNextPage() con currentPage.value++
DIR-098,FilterResultsPage,Gestión de datos,Integración - Procesamiento,Verificar procesamiento correcto de diferentes tipos de datos,1. Buscar cada tipo de servicio\n2. Verificar procesamiento,"Datos procesados correctamente:
- Médicos → MedicoMdl → ItemsResultsMdl
- Hospitales → HospitalMdl → ItemsResultsMdl
- Clínicas → ClinicaMdl → ItemsResultsMdl
- Otros → SauxMdl → ItemsResultsMdl",,,Pendiente,Switch case para cada tipo con mapeo
DIR-099,FilterResultsPage,Controller lifecycle,Funcional - Ciclo de vida,Verificar inicialización y limpieza del controller,1. Navegar a FilterResultsPage\n2. Navegar fuera de FilterResultsPage,"Lifecycle correcto:
- onInit() configura scroll listener
- onClose() remueve listeners
- ScrollController limpiado correctamente",,,Pendiente,GetxController lifecycle con ScrollController
DIR-100,FilterResultsPage,Scroll listener,Funcional - Scroll,Verificar funcionamiento del scroll listener,1. Realizar scroll en lista de resultados\n2. Verificar detección de posición,"Scroll listener funcional:
- scrollController.addListener configurado
- _onScroll() detecta maxScrollExtent
- Paginación activada correctamente",,,Pendiente,ScrollController listener con _onScroll
DIR-101,ItemMapPage,Pantalla completa,UI - Carga general,Validar carga completa de la pantalla de mapa con todos sus elementos,1. Tocar cualquier resultado en FilterResultsPage\n2. Verificar carga de ItemMapPage,"Pantalla se muestra correctamente con:
- AppBar con título del tipo de búsqueda
- Mapa de Google Maps centrado en ubicación
- Pin central en ubicación
- Botones de transporte (GPS, auto, caminar)
- Información detallada del item
- Teléfono con funcionalidad de llamada",,,Pendiente,Elementos basados en argumentos recibidos
DIR-102,ItemMapPage,AppBar,UI - Elemento,Validar AppBar con título dinámico,1. Navegar a ItemMapPage\n2. Verificar AppBar,"AppBar visible con:
- Fondo blanco
- Título = titleAppBar pasado como argumento
- Botón back estándar",,,Pendiente,Título: _c.state!.name de argumentos
DIR-103,ItemMapPage,Google Maps,UI - Mapa,Verificar configuración y visualización del mapa,1. Navegar a ItemMapPage\n2. Verificar mapa,"Mapa configurado correctamente:
- Altura: 50% de pantalla
- Posición inicial centrada en lat/lng del item
- Zoom: 14.4746
- Gestos deshabilitados (scroll, zoom, rotate)
- myLocationEnabled: true
- myLocationButtonEnabled: false",,,Pendiente,GoogleMap con configuraciones específicas
DIR-104,ItemMapPage,Pin central,UI - Marcador,Verificar pin central de ubicación,1. Navegar a ItemMapPage\n2. Verificar pin central,"Pin central visible:
- Ícono: Icons.location_on
- Color: ColorPalette.primary
- Tamaño: 40px
- Posición: Center del Stack",,,Pendiente,Icon superpuesto en Stack center
DIR-105,ItemMapPage,Botón GPS,UI - Botón,Verificar botón de ubicación actual,1. Navegar a ItemMapPage\n2. Localizar botón GPS,"Botón GPS visible:
- Ícono: Icons.my_location
- Color: #FF59677D
- Tamaño: 35px
- Border radius izquierdo
- Fondo blanco",,,Pendiente,GestureDetector con goToCurrentLocation
DIR-106,ItemMapPage,Botón auto,UI - Botón condicional,Verificar botón de navegación en auto,1. Navegar a ItemMapPage con coordenadas válidas,"Botón auto visible si lat/lng no están vacíos:
- Ícono: Icons.directions_car
- Color: #FF59677D
- Tamaño: 35px
- Fondo blanco
- Padding entre botones",,,Pendiente,Condicional: lat.isNotEmpty && lng.isNotEmpty
DIR-107,ItemMapPage,Botón caminar,UI - Botón condicional,Verificar botón de navegación caminando,1. Navegar a ItemMapPage con coordenadas válidas,"Botón caminar visible si lat/lng no están vacíos:
- Ícono: Icons.directions_walk
- Color: #FF59677D
- Tamaño: 35px
- Border radius derecho
- Fondo blanco",,,Pendiente,Condicional: lat.isNotEmpty && lng.isNotEmpty
DIR-108,ItemMapPage,Información título,UI - Texto,Verificar título del item,1. Navegar a ItemMapPage\n2. Verificar información textual,"Título visible:
- Texto: title del item
- Estilo: titleMedium
- maxLines: 2
- overflow: ellipsis",,,Pendiente,Text con _c.state!.title
DIR-109,ItemMapPage,Información subtítulo,UI - Texto,Verificar subtítulo del item,1. Navegar a ItemMapPage\n2. Verificar subtítulo,"Subtítulo visible:
- Texto: subtitle del item
- Estilo: bodySmall
- Padding vertical: 15px",,,Pendiente,Padding simétrico vertical
DIR-110,ItemMapPage,Información descripción,UI - Texto,Verificar descripción del item,1. Navegar a ItemMapPage\n2. Verificar descripción,"Descripción visible:
- Texto: desc del item
- Estilo: bodyMedium
- maxLines: 2
- overflow: ellipsis",,,Pendiente,Text con _c.state!.desc
DIR-111,ItemMapPage,Información teléfono,UI - Texto interactivo,Verificar teléfono del item con funcionalidad,1. Navegar a ItemMapPage\n2. Verificar teléfono,"Teléfono visible:
- Texto: tel del item
- Estilo: bodyMedium con color primary
- Clickeable (InkWell)
- maxLines: 2, overflow: ellipsis
- Padding vertical: 10px",,,Pendiente,InkWell con launchPhone
DIR-112,ItemMapPage,Funcionalidad GPS,Funcional - Localización,Verificar funcionalidad de ir a ubicación actual,1. Tocar botón GPS\n2. Verificar comportamiento,"Funcionalidad GPS:
- Verificación de servicios habilitados
- Verificación de permisos de ubicación
- Solicitud de permisos si es necesario
- goToCurrentLocation() ejecutado",,,Pendiente,Geolocator con manejo de permisos
DIR-113,ItemMapPage,Navegación auto,Funcional - Direcciones,Verificar navegación en modo auto,1. Tocar botón auto\n2. Verificar navegación,"Navegación auto:
- getRouteTransportMode(isModeDriving: true)
- Apertura de app de navegación
- Modo conducir activado",,,Pendiente,InkWell onTap con parámetro true
DIR-114,ItemMapPage,Navegación caminar,Funcional - Direcciones,Verificar navegación en modo caminar,1. Tocar botón caminar\n2. Verificar navegación,"Navegación caminar:
- getRouteTransportMode(isModeDriving: false)
- Apertura de app de navegación
- Modo caminar activado",,,Pendiente,InkWell onTap con parámetro false
DIR-115,ItemMapPage,Funcionalidad teléfono,Funcional - Llamada,Verificar funcionalidad de llamada telefónica,1. Tocar número de teléfono\n2. Verificar comportamiento,"Llamada telefónica:
- launchPhone() ejecutado
- URL launcher con esquema tel:
- Apertura de app de llamadas",,,Pendiente,url_launcher con tel: scheme
DIR-116,ItemMapPage,Estado Loading,Estado - Carga,Verificar estado de loading durante inicialización,1. Navegar a ItemMapPage\n2. Observar durante carga inicial,Pantalla muestra LoadingGnp centrado mientras inicializa mapa y datos,,,Pendiente,RxStatus.loading() en onInit
DIR-117,ItemMapPage,Argumentos recibidos,Integración - Datos,Verificar recepción correcta de argumentos desde FilterResultsPage,1. Navegar desde FilterResultsPage\n2. Verificar argumentos,"Argumentos recibidos correctamente:
- item: ItemsResultsMdl completo
- titleAppBar: string para título
- Todos los campos mapeados correctamente",,,Pendiente,Get.arguments en onInit()
DIR-118,ItemMapPage,Inicialización mapa,Integración - Google Maps,Verificar inicialización correcta del mapa,1. Navegar a ItemMapPage\n2. Verificar inicialización mapa,"Mapa inicializado correctamente:
- CameraPosition con lat/lng parseados
- mapCtrler Completer configurado
- mapKey único asignado
- onMapCreated callback configurado",,,Pendiente,GoogleMapController con Completer
DIR-119,ItemMapPage,Lifecycle observador,Funcional - Ciclo de vida,Verificar manejo del ciclo de vida de la app,1. Minimizar y restaurar app desde ItemMapPage,"Lifecycle manejado correctamente:
- WidgetsBindingObserver registrado
- didChangeAppLifecycleState detecta resume
- Mapa se reconstruye en resume
- mapKey actualizado para evitar pantalla en blanco",,,Pendiente,WidgetsBindingObserver con AppLifecycleState
DIR-120,ItemMapPage,Manejo coordenadas inválidas,Funcional - Validación,Verificar comportamiento con coordenadas inválidas,1. Navegar con lat/lng vacíos o inválidos\n2. Verificar comportamiento,"Coordenadas inválidas manejadas:
- double.tryParse con fallback a 0
- Mapa se centra en 0,0 sin errores
- Botones de navegación se ocultan
- No hay crashes por parsing",,,Pendiente,double.tryParse() con ?? 0
DIR-121,ItemMapPage,Permisos ubicación denegados,Funcional - Permisos,Verificar manejo de permisos denegados,1. Denegar permisos de ubicación\n2. Tocar botón GPS,"Permisos denegados manejados:
- Verificación de LocationPermission
- Solicitud de permisos si están denied
- Notificación de advertencia si no habilitados
- Manejo graceful sin crashes",,,Pendiente,Geolocator.checkPermission() y requestPermission()
DIR-122,ItemMapPage,Servicios ubicación deshabilitados,Funcional - Servicios,Verificar manejo de servicios de ubicación deshabilitados,1. Deshabilitar servicios de ubicación\n2. Tocar botón GPS,"Servicios deshabilitados manejados:
- isLocationServiceEnabled() verificado
- Notificación personalizada mostrada
- Mensaje: 'Servicios de ubicación desactivados'
- Return early sin intentar obtener ubicación",,,Pendiente,AppService.i.notifications.show con AlertType.warning
DIR-123,ItemMapPage,Controller lifecycle,Funcional - Ciclo de vida,Verificar inicialización y limpieza del controller,1. Navegar a ItemMapPage\n2. Navegar fuera de ItemMapPage,"Lifecycle correcto:
- onInit() configura observer y mapa
- onClose() remueve observer
- WidgetsBindingObserver limpiado
- Recursos liberados correctamente",,,Pendiente,GetxController lifecycle con observer cleanup
DIR-124,ItemMapPage,Reconstrucción mapa,Funcional - Optimización,Verificar reconstrucción del mapa al resumir app,1. Minimizar app desde ItemMapPage\n2. Restaurar app\n3. Verificar mapa,"Reconstrucción exitosa:
- mapCtrler reinicializado como nuevo Completer
- mapKey actualizado con UniqueKey
- Mapa evita pantalla en blanco
- Funcionalidad restaurada completamente",,,Pendiente,Optimización para evitar blank screen issue
DIR-125,ItemMapPage,Responsive layout,UI - Responsive,Verificar layout responsive del mapa,1. Probar en diferentes tamaños de pantalla\n2. Verificar dimensiones,"Layout responsive:
- Mapa: altura 50% de pantalla
- Botones: ancho 40% de pantalla, altura 5%
- Padding horizontal: 30px
- Elementos se adaptan correctamente",,,Pendiente,context.pHeight() y pWidth() responsive
DIR-126,ItemMapPage,Loading overlay container,UI - Loading estado,Verificar container de overlay durante cálculo de rutas,1. Tocar botón auto o caminar\n2. Verificar overlay durante cálculo,"Overlay loading visible cuando isLoadingRoute.value = true:
- Container con altura 50% de pantalla
- Color: Colors.grey.shade50
- Cubre completamente el mapa
- Se oculta cuando loading termina",,,Pendiente,Obx reactive con _c.isLoadingRoute.value
DIR-127,ItemMapPage,Loading indicator,UI - Elemento loading,Verificar indicador de carga durante cálculo de rutas,1. Iniciar cálculo de ruta\n2. Verificar CircularProgressIndicator,"Indicador loading visible:
- CircularProgressIndicator centrado
- Color: ColorPalette.primary
- Posición: Center del overlay
- Solo visible durante isLoadingRoute = true",,,Pendiente,Dentro de Column con mainAxisSize.min
DIR-128,ItemMapPage,Loading mensaje,UI - Texto informativo,Verificar mensaje informativo durante cálculo,1. Activar cálculo de ruta\n2. Verificar mensaje,"Mensaje loading visible:
- Texto: 'Calculando, por favor espere un momento...'
- Color: ColorPalette.primary
- FontWeight: w500
- Posición: Debajo del CircularProgressIndicator",,,Pendiente,Text con estilo específico en Column
DIR-129,ItemMapPage,Loading separador,UI - Espaciado,Verificar separador entre indicator y mensaje,1. Activar loading de ruta\n2. Verificar espaciado,"Separador visible:
- Divider con color transparente
- Separa CircularProgressIndicator del texto
- Mantiene espaciado consistente
- Parte del Column loading",,,Pendiente,Divider(color: Colors.transparent)
DIR-130,ItemMapPage,Estado loading reactivo,Funcional - Estado reactivo,Verificar reactividad del estado isLoadingRoute,1. Verificar estado inicial\n2. Activar cálculo de ruta\n3. Verificar cambio de estado,"Estado reactivo correcto:
- isLoadingRoute.value inicia en false
- Cambia a true al iniciar cálculo
- UI se actualiza automáticamente
- Vuelve a false al terminar",,,Pendiente,Obx() reactivo a cambios de estado
DIR-131,ItemMapPage,Loading auto navegación,Funcional - Loading específico,Verificar loading al activar navegación en auto,1. Tocar botón auto\n2. Verificar activación de loading,"Loading activado correctamente:
- isLoadingRoute.value = true
- Overlay y mensaje aparecen
- getRouteTransportMode(isModeDriving: true)
- Loading se mantiene durante cálculo",,,Pendiente,Loading específico para modo auto
DIR-132,ItemMapPage,Loading caminar navegación,Funcional - Loading específico,Verificar loading al activar navegación caminando,1. Tocar botón caminar\n2. Verificar activación de loading,"Loading activado correctamente:
- isLoadingRoute.value = true
- Overlay y mensaje aparecen
- getRouteTransportMode(isModeDriving: false)
- Loading se mantiene durante cálculo",,,Pendiente,Loading específico para modo caminar
DIR-133,ItemMapPage,Loading finalización,Funcional - Estado final,Verificar finalización correcta del loading,1. Iniciar cálculo de ruta\n2. Esperar finalización del cálculo,"Loading finaliza correctamente:
- isLoadingRoute.value vuelve a false
- Overlay desaparece (SizedBox.shrink())
- Mensaje e indicator se ocultan
- Mapa vuelve a ser interactuable",,,Pendiente,SizedBox.shrink() cuando loading = false
DIR-134,ItemMapPage,UX durante loading,UX - Experiencia usuario,Verificar experiencia de usuario durante loading,1. Activar cálculo de ruta\n2. Intentar interactuar con mapa,"Experiencia UX correcta:
- Mapa queda cubierto por overlay
- Usuario no puede interactuar durante cálculo
- Mensaje claro de estado
- Feedback visual inmediato",,,Pendiente,Container overlay previene interacción
DIR-135,ItemMapPage,Loading sin coordenadas,Funcional - Edge case,Verificar comportamiento loading con coordenadas inválidas,1. Intentar navegación sin coordenadas válidas\n2. Verificar estado loading,"Manejo correcto de edge case:
- Loading no se activa si no hay coordenadas
- Botones navegación ocultos si lat/lng vacíos
- No hay loading innecesario
- Estado consistente mantenido",,,Pendiente,Validación previa antes de activar loading